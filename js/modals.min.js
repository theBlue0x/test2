const modal=(()=>{var t={},e={speedOpen:150,speedClose:250,toggleClass:"hidden",selectorTarget:"[data-modal-target]",selectorTrigger:"[data-modal-trigger]",selectorClose:"[data-modal-close]",selectorOverlay:"[data-modal-overlay]",selectorWrapper:"[data-modal-wrapper]",selectorInputFocus:"[data-modal-input-focus]"};function a(t){var e=t.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),a=e[0],s=e[e.length-1];t.addEventListener("keydown",function(t){("Tab"===t.key||9===t.keyCode)&&(t.shiftKey?document.activeElement===a&&(s.focus(),t.preventDefault()):document.activeElement===s&&(a.focus(),t.preventDefault()))})}Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null});var s=function(t){"true"===t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded",!1):t.setAttribute("aria-expanded",!0)},r=function(t,r){var o=r;if("string"==typeof t&&(o=document.getElementById(t))&&o.setAttribute("data-auto-trigger",""),o){var l=o.querySelector(e.selectorOverlay),i=o.querySelector(e.selectorWrapper),n=o.querySelector(e.selectorInputFocus);o.classList.remove(e.toggleClass),document.documentElement.style.overflow="hidden","string"!=typeof t&&s(t),setTimeout(function(){if(l){var t=l.getAttribute("data-class-in").split(" "),e=l.getAttribute("data-class-out").split(" ");l.classList.remove(...e),l.classList.add(...t)}if(i){var s=i.getAttribute("data-class-in").split(" "),r=i.getAttribute("data-class-out").split(" ");i.classList.remove(...r),i.classList.add(...s)}n&&n.focus(),a(o)},e.speedOpen)}},o=function(t){var a=t.closest(e.selectorTarget),r=document.querySelector('[aria-controls="'+a.id+'"'),o=a.querySelector(e.selectorOverlay),l=a.querySelector(e.selectorWrapper);if(null===r&&(r=document.querySelector('a[href="#'+a.id+'"')),o){var i=o.getAttribute("data-class-in").split(" "),n=o.getAttribute("data-class-out").split(" ");o.classList.remove(...i),o.classList.add(...n)}if(l){var d=l.getAttribute("data-class-in").split(" "),c=l.getAttribute("data-class-out").split(" ");l.classList.remove(...d),l.classList.add(...c)}document.documentElement.style.overflow="",a.hasAttribute("data-auto-trigger")?a.removeAttribute("data-auto-trigger"):s(r),setTimeout(function(){a.classList.add(e.toggleClass)},e.speedClose)},l=function(t){var a,s,l=t.target,i=l.closest("button"),n=l.closest("a"),d=null;l.hasAttribute("data-modal-trigger")&&l.hasAttribute("aria-controls")?(a=l.closest(e.selectorTrigger),s=document.getElementById(a.getAttribute("aria-controls")),d=!0):i&&i.hasAttribute("data-modal-trigger")&&i.hasAttribute("aria-controls")?(a=l.closest(e.selectorTrigger),s=document.getElementById(a.getAttribute("aria-controls")),d=!0):l.hash&&l.hash.substr(1).indexOf("modal")>-1?(a=l,s=document.getElementById(l.hash.substr(1)),d=!0):n&&n.hash&&n.hash.substr(1).indexOf("modal")>-1&&(a=n,s=document.getElementById(n.hash.substr(1)),d=!0);var c=l.closest(e.selectorClose);d&&s&&r(a,s),c&&o(c),(d||c)&&t.preventDefault()},i=function(t){if("Escape"===t.key||27===t.keyCode){var a,s=document.querySelectorAll(e.selectorTarget);for(a=0;a<s.length;++a)s[a].classList.contains(e.toggleClass)||o(s[a])}};return t.init=function(){document.addEventListener("click",l,!1),document.addEventListener("keydown",i,!1)},t.openModal=r,t.closeModal=o,t})();document.addEventListener("DOMContentLoaded",function(){modal.init()});